name: CI/CD Pipeline

on:
  push:
    branches: [ "main", "deploy-1.0.0" ]

jobs:
  build:
    name: Build
    uses: ./.github/workflows/build.yml  # Call the reusable workflow
    
  deploy:
    name: Deploy
    needs: build  # Ensure deployment runs after build
    uses: ./.github/workflows/deploy.yml  # Call the reusable deployment workflow