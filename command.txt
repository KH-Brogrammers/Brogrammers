Add new self-hosted runner Â· KH-Brogrammers/Brogrammers

Download

# Create a folder
$ mkdir actions-runner && cd actions-runner# Download the latest runner package
$ curl -o actions-runner-linux-arm64-2.329.0.tar.gz -L https://github.com/actions/runner/releases/download/v2.329.0/actions-runner-linux-arm64-2.329.0.tar.gz# Optional: Validate the hash
$ echo "56768348b3d643a6a29d4ad71e9bdae0dc0ef1eb01afe0f7a8ee097b039bfaaf  actions-runner-linux-arm64-2.329.0.tar.gz" | shasum -a 256 -c# Extract the installer
$ tar xzf ./actions-runner-linux-arm64-2.329.0.tar.gz

Configure
# Create the runner and start the configuration experience
$ ./config.sh --url https://github.com/KH-Brogrammers/Brogrammers --token BENRP5CPFY7TDZKCWTQN2FTJB54WG# Last step, run it!
$ ./run.sh

Using your self-hosted runner
# Use this YAML in your workflow file for each job
runs-on: self-hosted


sudo nginx -t
sudo systemctl reload nginx


# Install cloudflared
sudo apt install cloudflared

# Run tunnel
cloudflared tunnel --url http://localhost:80

âœ… How to Expose Your Raspberry Pi With a Hidden Public URL
Step 1 â†’ Run the tunnel

    cloudflared tunnel --url http://localhost

                or
    cloudflared tunnel --url http://100.122.35.67:80

ðŸ”¸ The tunnel closes when your terminal closes
    nohup cloudflared tunnel --url http://localhost &


1ï¸âƒ£ Kill old tunnel
    pkill cloudflared
2ï¸âƒ£ Remove old nohup.out
    rm nohup.out
3ï¸âƒ£ Start new tunnel (in background)
    nohup cloudflared tunnel --url http://100.122.35.67:80 &
    nohup cloudflared tunnel --url http://localhost &
4ï¸âƒ£ Wait 3 seconds, then check URL
    head -n 20 nohup.out

ps aux | grep cloudflared
tail -f nohup.out


public url:- https://undertake-their-catalyst-matrix.trycloudflare.com, :-http://100.122.35.67:80

public url:- https://undertake-their-catalyst-matrix.trycloudflare.com , :-http://localhost





Install and run a connector
# Add cloudflare gpg key
sudo mkdir -p --mode=0755 /usr/share/keyrings
curl -fsSL https://pkg.cloudflare.com/cloudflare-public-v2.gpg | sudo tee /usr/share/keyrings/cloudflare-public-v2.gpg >/dev/null

# Add this repo to your apt repositories
echo 'deb [signed-by=/usr/share/keyrings/cloudflare-public-v2.gpg] https://pkg.cloudflare.com/cloudflared any main' | sudo tee /etc/apt/sources.list.d/cloudflared.list

# install cloudflared
sudo apt-get update && sudo apt-get install cloudflared


sudo cloudflared service install eyJhIjoiM2ExNTBiMGIyOGNmN2FlYzY4OWU3ZjViMGNjM2ZmODkiLCJ0IjoiNzBhNzdhZGEtYzA2My00ZDg4LTg2MWEtMzg4MmUzZWNhYzBhIiwicyI6IlpETmtOMlZsWXpJdE5UTTNaUzAwTlRFd0xUa3lPR010TldWbFlUUTVZekU0WWpreSJ9

cloudflared tunnel run --token eyJhIjoiM2ExNTBiMGIyOGNmN2FlYzY4OWU3ZjViMGNjM2ZmODkiLCJ0IjoiNzBhNzdhZGEtYzA2My00ZDg4LTg2MWEtMzg4MmUzZWNhYzBhIiwicyI6IlpETmtOMlZsWXpJdE5UTTNaUzAwTlRFd0xUa3lPR010TldWbFlUUTVZekU0WWpreSJ9


Your tunnel ID is: `70a77ada-c063-4d88-861a-3882e3ecac0a` 